<template>
  <lightning-card
    variant="Narrow"
    title="IMPERATIVE APEX 2 : CONTACT SEARCH"
    icon-name="utility:contact"
  >
    <div class="slds-var-m-around_medium">
      <lightning-input
        type="search"
        label="Search for contacts..."
        onkeyup={searchHandler}
      ></lightning-input>
    </div>
    <div class="slds-var-m-around_small">
      <template if:true={contacts}>
        <template for:each={contacts} for:item="con">
          <div key={con.Id} class="slds-var-m-bottom_small slds-box slds-theme_shade">
            <strong>{con.Name}</strong> <br/>
            {con.Title} <br/>
            {con.Email} <br/>
            {con.Phone} <br/>
          </div>
        </template>
      </template>
      <template class="slds-var-m-around_small" if:true={error}>{error}</template>
    </div>
  </lightning-card>
</template>
